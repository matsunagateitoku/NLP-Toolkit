{% extends "base.html" %}
{% block title %}Part-of-Speech Tagging{% endblock %}
{% block content %}
<div class="container">
    <h1>üè∑Ô∏è Part-of-Speech Tagging</h1>
    <p class="subtitle">Identify grammatical categories of words in your text</p>
    
    <form method="POST" class="input-form">
        <label for="user_input">Enter your text:</label>
        <textarea name="user_input" id="user_input" rows="6" placeholder="Enter text to analyze..." required></textarea>
        
        <button type="submit">Analyze POS Tags</button>
    </form>
    
    {% if error_message %}
        <div class="error">
            ‚ùå {{ error_message }}
        </div>
    {% endif %}
    
    {% if pos_html %}
        <div class="result">
            <h2>Token Visualization</h2>
            <p class="info-text">Each token is labeled with its part of speech</p>
            <div class="visualization">
                {{ pos_html|safe }}
            </div>
        </div>
    {% endif %}
    
    {% if pos_tags %}
        <div class="result">
            <h2>Detailed POS Tags</h2>
            <div class="pos-table-container">
                <table class="pos-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Token</th>
                            <th>POS (Coarse)</th>
                            <th>Tag (Fine-grained)</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for token, pos, tag in pos_tags %}
                        <tr>
                            <td>{{ loop.index }}</td>
                            <td><strong>{{ token }}</strong></td>
                            <td><span class="pos-badge">{{ pos }}</span></td>
                            <td><code>{{ tag }}</code></td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            
            <div class="pos-legend">
                <h3>POS Tag Reference:</h3>
                <div class="legend-grid">
                    <div><strong>NOUN</strong> - Noun (person, place, thing)</div>
                    <div><strong>VERB</strong> - Verb (action, state)</div>
                    <div><strong>ADJ</strong> - Adjective (describes noun)</div>
                    <div><strong>ADV</strong> - Adverb (modifies verb/adj)</div>
                    <div><strong>PRON</strong> - Pronoun (I, you, he, she)</div>
                    <div><strong>DET</strong> - Determiner (the, a, an)</div>
                    <div><strong>ADP</strong> - Preposition (in, on, at, to)</div>
                    <div><strong>CONJ</strong> - Conjunction (and, but, or)</div>
                    <div><strong>NUM</strong> - Number (one, two, 2024)</div>
                    <div><strong>PROPN</strong> - Proper noun (names)</div>
                    <div><strong>AUX</strong> - Auxiliary verb (is, has, will)</div>
                    <div><strong>PUNCT</strong> - Punctuation (., !, ?)</div>
                </div>
            </div>
        </div>
    {% endif %}
    
    <p><a href="{{ url_for('index') }}">‚Üê Back to home</a></p>
</div>
{% endblock %}
